apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "rbac-server.fullname" . }}
  labels:
    {{- include "rbac-server.labels" . | nindent 4 }}
data:
  config.yaml: |
    internalGrpcPort: {{ .Values.internalGrpcPort }}
    issuerUrl: {{ .Values.global.auth.oidcIssuerUrl }}
    apiKeyCache:
      syncInterval: {{ .Values.apiKeyCache.syncInterval }}
      userManagerServerInternalAddr: {{ .Values.apiKeyCache.userManagerServerInternalAddr }}
    roleScopesMap:
      {{- toYaml .Values.roleScopesMap | nindent 6 }}
    debug:
      {{- toYaml .Values.debug | nindent 6 }}
